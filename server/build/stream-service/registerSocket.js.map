{"version":3,"sources":["../../src/stream-service/registerSocket.js"],"names":["registerSocket","server","app","io","require","connections","Set","on","socket","add","console","log","once","module","exports"],"mappings":";;AAAA,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,GAAhC,EAAqC;AACnC,MAAMC,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBH,MAArB,CAAX;;AACAC,EAAAA,GAAG,CAACC,EAAJ,GAASA,EAAT;AACA,MAAME,WAAW,GAAG,IAAIC,GAAJ,EAApB;AACAH,EAAAA,EAAE,CAACI,EAAH,CAAM,YAAN,EAAoB,UAACC,MAAD,EAAY;AAC9BH,IAAAA,WAAW,CAACI,GAAZ,CAAgBD,MAAhB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAH,IAAAA,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,YAAY;AACpCF,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAN,MAAAA,WAAW,UAAX,CAAmBG,MAAnB;AACD,KAHD;AAID,GAPD;AAQD;;AAEDK,MAAM,CAACC,OAAP,GAAiBd,cAAjB","sourcesContent":["function registerSocket(server, app) {\r\n  const io = require(\"socket.io\")(server);\r\n  app.io = io;\r\n  const connections = new Set();\r\n  io.on(\"connection\", (socket) => {\r\n    connections.add(socket);\r\n    console.log(\"Filter service connected\");\r\n    socket.once(\"disconnect\", function () {\r\n      console.log(\"Filter service disconnected\");\r\n      connections.delete(socket);\r\n    });\r\n  });\r\n}\r\n\r\nmodule.exports = registerSocket;\r\n"],"file":"registerSocket.js"}