{"version":3,"sources":["../../../src/libs/database/registerDatabase.js"],"names":["mongoose","require","StreamModel","createDatabase","Stream","registerDatabase","app","console","log","connect","process","env","MONGODB_URI","then","db","err","message","module","exports"],"mappings":";;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAMC,WAAW,GAAGD,OAAO,CAAC,iBAAD,CAA3B;;AAEA,SAASE,cAAT,GAA0B;AACxB,SAAO;AACLC,IAAAA,MAAM,EAAEF;AADH,GAAP;AAGD;;AAED,SAASG,gBAAT,CAA0BC,GAA1B,EAA+B;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACAR,EAAAA,QAAQ,CACLS,OADH,CACWC,OAAO,CAACC,GAAR,CAAYC,WADvB,EAEGC,IAFH,CAEQ,YAAM;AACVN,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACA,QAAMM,EAAE,GAAGX,cAAc,EAAzB;AACAG,IAAAA,GAAG,CAACQ,EAAJ,GAASA,EAAT;AACD,GANH,WAOS,UAACC,GAAD,EAAS;AACdR,IAAAA,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACC,OAAhB;AACA,UAAMD,GAAN;AACD,GAVH;AAWD;;AAEDE,MAAM,CAACC,OAAP,GAAiBb,gBAAjB","sourcesContent":["const mongoose = require(\"mongoose\");\r\nconst StreamModel = require(\"./models/stream\");\r\n\r\nfunction createDatabase() {\r\n  return {\r\n    Stream: StreamModel,\r\n  };\r\n}\r\n\r\nfunction registerDatabase(app) {\r\n  console.log(\"---- Connecting Database ----\");\r\n  mongoose\r\n    .connect(process.env.MONGODB_URI)\r\n    .then(() => {\r\n      console.log(\"---- MongoDb Connected ----\");\r\n      const db = createDatabase();\r\n      app.db = db;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.message);\r\n      throw err;\r\n    });\r\n}\r\n\r\nmodule.exports = registerDatabase;\r\n"],"file":"registerDatabase.js"}