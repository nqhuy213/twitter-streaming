{"version":3,"sources":["../../src/filter-service-2/app.js"],"names":["express","require","registerRoutes","registerMiddlewares","registerSocket","io","connect","registerDatabase","process","env","NODE_ENV","config","createApp","app","startApp","server","listen","FILTER_PORT_2","STREAM_SERVICE_URL","console","log"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,cAAc,GAAGD,OAAO,CAAC,kBAAD,CAA9B;;AACA,IAAME,mBAAmB,GAAGF,OAAO,CAAC,uBAAD,CAAnC;;AACA,IAAMG,cAAc,GAAGH,OAAO,CAAC,kBAAD,CAA9B;;AACA,IAAMI,EAAE,GAAGJ,OAAO,CAAC,kBAAD,CAAlB;;AACA,IAAMK,OAAO,GAAGL,OAAO,CAAC,iBAAD,CAAvB;;AACA,IAAMM,gBAAgB,GAAGN,OAAO,CAAC,mCAAD,CAAhC;;AAEA,IAAIO,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CT,EAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBU,MAAlB;AACD;;AAED,SAASC,SAAT,GAAqB;AACnB,MAAMC,GAAG,GAAGb,OAAO,EAAnB;AACAG,EAAAA,mBAAmB,CAACU,GAAD,CAAnB;AACAX,EAAAA,cAAc,CAACW,GAAD,CAAd;AACAN,EAAAA,gBAAgB,CAACM,GAAD,CAAhB;AACA,SAAOA,GAAP;AACD;;AAED,SAASC,QAAT,GAAoB;AAClB,MAAMD,GAAG,GAAGD,SAAS,EAArB;AACA,MAAMG,MAAM,GAAGF,GAAG,CAACG,MAAJ,CAAWR,OAAO,CAACC,GAAR,CAAYQ,aAAvB,EAAsC,YAAM;AACzDb,IAAAA,cAAc,CAACW,MAAD,EAASF,GAAT,CAAd;AACAP,IAAAA,OAAO,CAACE,OAAO,CAACC,GAAR,CAAYS,kBAAb,EAAiCL,GAAjC,CAAP;AACAM,IAAAA,OAAO,CAACC,GAAR,iDAC2CZ,OAAO,CAACC,GAAR,CAAYQ,aADvD;AAGD,GANc,CAAf;AAOD;;AAEDH,QAAQ","sourcesContent":["const express = require(\"express\");\r\nconst registerRoutes = require(\"./registerRoutes\");\r\nconst registerMiddlewares = require(\"./registerMiddlewares\");\r\nconst registerSocket = require(\"./registerSocket\");\r\nconst io = require(\"socket.io-client\");\r\nconst connect = require(\"./socket/client\");\r\nconst registerDatabase = require(\"../libs/database/registerDatabase\");\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n  require(\"dotenv\").config();\r\n}\r\n\r\nfunction createApp() {\r\n  const app = express();\r\n  registerMiddlewares(app);\r\n  registerRoutes(app);\r\n  registerDatabase(app);\r\n  return app;\r\n}\r\n\r\nfunction startApp() {\r\n  const app = createApp();\r\n  const server = app.listen(process.env.FILTER_PORT_2, () => {\r\n    registerSocket(server, app);\r\n    connect(process.env.STREAM_SERVICE_URL, app);\r\n    console.log(\r\n      `Server is running on http://localhost:${process.env.FILTER_PORT_2}`\r\n    );\r\n  });\r\n}\r\n\r\nstartApp();\r\n"],"file":"app.js"}